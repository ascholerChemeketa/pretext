// ---------------------------------------------
// containers for images, audio, video, and asymptote
.image-box,
.audio-box,
.video-box,
.asymptote-box {
    position: relative;
}

.image-box .asymptote-box iframe.asymptote,
iframe.asymptote,
.video-box .video,
.video-box .video-poster {
    position: absolute; top: 0; left: 0; width: 100%; height: 100%;
}

// images in containers should grow to fit space
.image-box img,
img.contained {
    max-width: 100%;
}

// ---------------------------------------------
// images
.ptx-content img {
  // for body images in dark mode, we want to be able to force a light colored background
  // as most transparent images will assume that the background is white
  background: var(--ptx-image-bg);
}

.image-description {
  summary {
    list-style: none; // no marker
    cursor: pointer;
  }
}

// download links after an image
.image-archive {
  margin: 0.75em auto 0;
  font-family: var(--font-monospace);
}

// TODO - refactor mag_popup JS and CSS
// was .ptx-content .image-box > img:not(.draw_on_me):not(.mag_popup)
.image-box > img:not(.mag_popup) {
  cursor: zoom-in;
}

img.mag_popup {
  border: 1px solid #666;
  box-shadow: 4px 6px 4px #999;
  cursor: zoom-out;
  max-width: var(--content-width);
}

.mag_popup_container {
  width:100%;
  position:absolute;
  z-index:1001;
  overflow-x: visible;
}

// ---------------------------------------------
// other
.audio {
    width: 100%;
}

.video-poster {
    cursor: pointer;
}

// These appear to be connected to obsolete js
// .videobig {
//     padding-right: 0.3em;
//     padding-left: 0.3em;
//     font-size: 85%;
// /*    background: #ffff66;
// */
//     background-color: rgba(255,255,100,0.9);
//     display: inline-block;
//     position: relative;
//     top: 100px;
//     cursor: zoom-in;
// }
// .videobig.nofigure {
//     /* not actually used */
// }
// .knowl .videobig {
//     display: none;
// }

// .videosmall {
//     padding-right: 0.3em;
//     padding-left: 0.3em;
//     font-size: 80%;
//     background-color: rgba(255,255,100,0.9);
//     display: inline-block;
//     position: absolute;
//     left: -250px;
//     z-index: 1001;
//     cursor: zoom-out;
// }


// No evidence of these
// section .videolink a:link {
//     background-size: 0;
// }
// .playvideo {
//   cursor: pointer;
// }
// /* is .cs for commutative diagrams? */
// .ptx-content img.cs {
//   display: block;
//   margin-top: 20px;
//   margin-bottom: 20px;
//   margin-left: auto;
//   margin-right: auto;
// }
// .ptx-content img:not(.cs) {
//   max-width: 650px;
// }
// .ptx-content div.center img {
//   display: block;
//   margin-left: auto;
//   margin-right: auto;
// }
